<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phần mềm phối hợp Kháng sinh thông minh</title>
    <!-- Tailwind CSS và các thư viện cần thiết -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Pacifico&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #e0f2f7; /* Nền xanh nhạt tổng thể */
            color: #333;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        header {
            background-color: #0070b5; /* Màu xanh */
            color: white;
            padding: 20px 0;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        header h1 {
            margin: 0;
            font-family: 'Pacifico', cursive;
            font-size: 2.5em;
            color: white;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            padding: 0 10px;
            box-sizing: border-box;
        }
        
        .update-info {
            font-size: 0.9em;
            color: #d1d5db;
        }
        
        .loading-icon {
            color: #ffc107; /* Màu icon, ví dụ màu vàng */
            font-size: 0.9em; /* Kích thước icon, nhỏ hơn một chút so với chữ */
            vertical-align: middle; /* Căn chỉnh icon với chữ */
            animation: spin 2s linear infinite; /* Áp dụng animation quay */
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        main.container {
            max-width: 900px;
            margin: 20px auto;
            padding: 30px;
            background-color: #ffffff;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            position: relative;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 25px;
        }

        .autocomplete-container {
            position: relative;
            width: 100%;
        }


/* ------------------------------------------------------------------ */
        /* --- CẬP NHẬT: KIỂU DÁNG VIÊN THUỐC CON NHỘNG TRÊN .pill-visual --- */
        /* ------------------------------------------------------------------ */
        .pill-visual {
            position: relative;
            width: 100%;
            height: 45px; /* Chiều cao cố định */
            border-radius: 22.5px; /* Bo tròn tối đa */
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.15),
                        inset 0 1px 2px rgba(0, 0, 0, 0.08);
            overflow: hidden; /* Quan trọng để cắt bớt các gradient con */
            display: flex; /* Để input bên trong căn giữa */
            align-items: center; /* Căn giữa input */
        }

        /* Input bên trong .pill-visual */
        .pill-visual input {
            width: 100%;
            height: 100%; /* Chiếm toàn bộ chiều cao của .pill-visual */
            padding: 0 25px; /* Padding ngang */
            border: none;
            background-color: transparent; /* Quan trọng: làm nền trong suốt */
            font-size: 1.1em;
            color: #333;
            outline: none;
            box-sizing: border-box;
            z-index: 3; /* Đảm bảo input nằm trên các lớp màu */
            position: relative; /* Để z-index hoạt động */
        }

        /* Focus state cho input, áp dụng bóng cho pill-visual */
        .pill-visual:has(input:focus) { /* Sử dụng :has() nếu trình duyệt hỗ trợ, nếu không dùng JS */
            box-shadow: 0 4px 12px rgba(0, 123, 255, 0.25),
                        inset 0 1px 3px rgba(0, 0, 0, 0.1),
                        0 0 0 4px rgba(0, 123, 255, 0.3);
        }
        
        /* Pseudo-elements cho hiệu ứng chia đôi (áp dụng cho .pill-visual) */
        .pill-visual::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 50%;
            height: 100%;
            background: linear-gradient(to right, transparent 0%, #ffeea1 100%);
            z-index: 1;
            pointer-events: none;
            border-radius: 22.5px 0 0 22.5px;
        }

        .pill-visual::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 50%;
            height: 100%;
            background: linear-gradient(to left, transparent 0%, #bfffd2 100%);
            z-index: 1;
            pointer-events: none;
            border-radius: 0 22.5px 22.5px 0;
        }

        /* Đường chia đôi rõ ràng (áp dụng cho .pill-visual) */
        .pill-visual .divider {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 50%;
            width: 2px; /* Độ dày của đường chia */
            background-color: #dbdbdb; /* Màu đậm hơn cho đường chia */
            transform: translateX(-50%);
            pointer-events: none;
            z-index: 2; /* Đảm bảo nằm trên cả hai lớp gradient */
        }
        
        /* Màu sắc riêng biệt cho từng viên thuốc */
        #pillA::before {
            background: linear-gradient(to right, transparent 0%, #ffeea1 100%);
        }

        #pillA::after {
            background: linear-gradient(to left, transparent 0%, #bfffd2 100%);
        }
        
        #pillB::before {
            background: linear-gradient(to right, transparent 0%, #709dff 100%);
        }

        #pillB::after {
            background: linear-gradient(to left, transparent 0%, #ffc8a6 100%);
        }


        .suggestions-list {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background-color: white;
            border: 1px solid #d1d5db;
            border-top: none;
            border-radius: 0 0 0.5rem 0.5rem;
            max-height: 12rem;
            overflow-y: auto;
            z-index: 100;
        }
        
        .suggestions-list div {
            padding: 0.75rem 1rem;
            cursor: pointer;
        }
        
        .suggestions-list div:hover, .suggestions-list div.active {
            background-color: #e5e7eb;
color: #007bff; /* màu xanh */
        }

        #checkCombinationBtn {
            width: 100%;
            padding: 18px;
            background-image: linear-gradient(to right, #5bc974, #96e0a7);
            color: white;
            font-weight: bold;
            border-radius: 15px;
            box-shadow: 0 6px 15px rgba(0, 112, 181, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            cursor: pointer;
            border: none;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

.fa-flask {
    color: #FFA500; /* Màu cam cho icon, mặc định là giá trị search-icon */
    font-size: 1.5em;
}

        #checkCombinationBtn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 112, 181, 0.4);
        }

        .result-box {
            margin-top: 25px;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            color: blue;
            font-weight: bold;
            font-size: 1.2em;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s ease;
        }
        .synergistic { background-color: #00e096; }
        .synergistic-positive { background-color: #00e096; }
        .additive { background-color: #00c2e0; }
        .antagonistic { background-color: #ef4444; }
        .competition { background-color: #ff9696; }
        .caution { background-color: #ff7b00; }
        .neutral { background-color: #bfbfbf; }
        .unknown { background-color: #bf9780; }
        
        .error-message {
            color: #ff4545;
            text-align: center;
            margin-top: 10px;
            font-weight: bold;
        }
        
        .general-guidance {
            margin-top: 40px;
            background-color: #fef3c7;
            border-left: 5px solid #f59e0b;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
text-align: justify;
        }

        .warning-icon {
            color: red;
            margin-right: 10px;
        }

        .general-guidance h3 {
            font-weight: bold;
            font-size: 1.2em;
            display: flex;
            align-items: center;
color: orange;
    justify-content: center;
        }

        .general-guidance ol {
            margin-top: 15px;
            padding-left: 25px;
            list-style: decimal;
            line-height: 1.6;
        }
/* CODE THÊM NÚT READ MORE CHO PHẦN CHỈ DẪN */
.truncated-text-container {
    overflow: hidden;
    max-height: 50px; /* Chiều cao ban đầu khi bị ẩn, bạn có thể điều chỉnh */
    position: relative;
    transition: max-height 0.5s ease-in-out;
}

.truncated-text-container.expanded {
    max-height: 1000px; /* Chiều cao tối đa khi hiển thị, điều chỉnh cho phù hợp */
}

.fade-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 30px; /* Chiều cao của lớp phủ mờ */
    background: linear-gradient(to top, #fef3c7, rgba(254, 243, 199, 0));
    pointer-events: none; /* Cho phép click xuyên qua lớp phủ */
}

.read-more-btn {
    display: block;
    width: 100%;
    padding: 10px;
    margin-top: 10px;
    background-color: transparent;
    border: 1px solid blue;
    color: blue;
    cursor: pointer;
    border-radius: 5px;
    text-align: center;
    transition: background-color 0.3s ease;
}

.read-more-btn:hover {
    background-color: transparent;
    color: orange;
}

        footer {
    background-color: #FFD700; /* Màu vàng */
    color: blue;
    padding: 15px 0;
    text-align: center;
    font-size: 0.9em;
    box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);
    margin-top: auto;
}

footer a {
    color: #009fb8; /* Đảm bảo màu link trong footer */
    text-decoration: none;
}

footer a:hover {
    text-decoration: underline;
}

        .menu-dropdown-content {
            display: none;
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%) translateY(-10px);
            background-color: #ffd336;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            padding: 12px 16px;
            z-index: 100;
            border-radius: 8px;
            transition: all 0.3s ease-in-out;
            opacity: 0;
            transform: translateX(-50%) translateY(0) scale(0.95);
            transform-origin: bottom center;
        }

        .menu-dropdown-content.visible {
            display: block;
            opacity: 1;
            transform: translateX(-50%) translateY(-10px) scale(1);
        }

        .menu-dropdown-content a {
            color: white;
            padding: 10px 14px;
            text-decoration: none;
            display: block;
            white-space: nowrap;
            transition: background-color 0.3s ease;
            border-radius: 5px;
        }

        .modal {
            transition: opacity 0.3s ease-in-out;
        }
        .modal.active {
            opacity: 1;
        }
        .modal-content {
            transition: transform 0.3s ease-in-out;
text-align: justify;
        }
        .modal.active .modal-content {
            transform: scale(1);
        }
.modal-content-scrollable {
            max-height: 80vh;
            overflow-y: auto;
        }
        
/* Responsive adjustments */
        @media (max-width: 600px) {
            .container {
                margin-top: 20px;
                padding: 25px;
            }
            .input-group {
                flex-direction: column;
                gap: 15px;
            }
            .autocomplete-container {
                width: 100%;
                min-width: unset;
            }
            .pill-visual, .pill-visual input { /* Điều chỉnh cho chiều cao trên mobile */
                height: 40px;
                border-radius: 20px;
            }
            
            /* Tối ưu hóa footer trên mobile */
        @media (max-width: 600px) {
            .container {
                margin-top: 20px;
                padding: 25px;
            }
            .input-group {
                flex-direction: column;
                gap: 15px;
            }
            .autocomplete-container {
                width: 100%;
                min-width: unset;
            }
            .pill-visual, .pill-visual input {
                height: 40px;
                border-radius: 20px;
            }
            
            /* Điều chỉnh CSS cho footer mới */
            footer .flex {
                flex-wrap: nowrap; /* Ngăn các nút xuống dòng */
                justify-content: space-around;
                gap: 0.5rem; /* Giảm khoảng cách giữa các nút */
                padding: 0 10px;
            }
            footer .flex a, footer .flex button {
                font-size: 0.75rem; /* Giảm kích thước font cho link và nút */
                padding: 6px 10px; /* Giảm padding để nút gọn hơn */
                white-space: nowrap; /* Ngăn chữ trong nút xuống dòng */
            }
            footer p {
                font-size: 0.65rem; /* Giảm kích thước font copyright */
                white-space: nowrap; /* Ngăn copyright xuống dòng */
                overflow: hidden;
                text-overflow: ellipsis;
                max-width: 90%;
                margin: 0 auto; /* Căn giữa dòng copyright */
            }

            /* Điều chỉnh các phần tử khác để đồng bộ */
            header h1 {
                font-size: 1.5em;
            }
            .check-button {
                font-size: 1em;
                width: 40px;
                height: 40px;
                min-width: 40px;
            }
            .result-text {
                font-size: 1.25rem;
            }
            .result-description {
                font-size: 1rem;
            }
            .general-guidance h3 {
                font-size: 1em;
            }
            .general-guidance ul {
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Tra cứu phối hợp Kháng Sinh</h1>
        <p class="update-info">
            <i class="fas fa-sync-alt loading-icon"></i> (Cập nhật đến 8/2025: <span id="antibioticCount">0</span> loại kháng sinh)
        </p>
    </header>

    <main class="container">
        <div class="input-group">
            <div class="autocomplete-container">
                <div class="pill-visual" id="pillA">
                    <input type="text" id="antibioticA" placeholder="Nhập tên kháng sinh 1">
                    <div class="divider"></div>
                </div>
                <div id="suggestionsA" class="suggestions-list hidden"></div>
            </div>
            <div class="autocomplete-container">
                <div class="pill-visual" id="pillB">
                    <input type="text" id="antibioticB" placeholder="Nhập tên kháng sinh 2">
                    <div class="divider"></div>
                </div>
                <div id="suggestionsB" class="suggestions-list hidden"></div>
            </div>
        </div>

        <button id="checkCombinationBtn">
<i class="fas fa-flask"></i> KIỂM TRA !
        </button>

        <div class="result-box" id="result">
            Kết quả sẽ hiển thị ở đây
        </div>
        <div class="error-message" id="errorMessage"></div>

        <div class="general-guidance">
    <h3><i class="fas fa-exclamation-triangle warning-icon"></i> Chỉ dẫn quan trọng</h3>
    <div id="guidanceText" class="truncated-text-container">
        <ol>
                <li>Việc phối hợp kháng sinh cần phải dựa trên lâm sàng từng ca bệnh cụ thể, sau khi thực hiện kháng sinh đồ đầy đủ.</li>
                <li>Cần cân nhắc giữa lợi và hại khi phối hợp kháng sinh, vì "thuốc là con dao 2 lưỡi", chỉ nên phối hợp khi thực sự cần thiết.</li>
                <li>Hãy sử dụng kháng sinh một cách có trách nhiệm để không làm cho tình trạng kháng kháng sinh ngày càng nghiêm trọng hơn.</li>
                <li>Luôn luôn điều chỉnh liều lượng cho phù hợp, chứ không cứng nhắc 1 liều cho cả một quá trình điều trị.</li>
                <li>Các kết quả "CẠNH TRANH"; "THẬN TRỌNG"; "TRUNG TÍNH" cần được tìm hiểu kỹ đối với mỗi cặp kháng sinh cần kết hợp.</li>
                <li>Tất cả các kết quả trên chỉ mang tính tham khảo nhanh, chúng tôi không chịu bất kỳ trách nhiệm nào về các hậu quả không mong muốn do các bác sĩ làm theo mà không tìm hiểu kỹ trước khi thực hiện.</li>
            </ol>
        <div class="fade-overlay"></div>
    </div>
    <button id="readMoreBtn" class="read-more-btn">Đọc thêm</button>
</div>
    </main>

<!-- FOOTER -->
    <footer class="bg-yellow-400 text-blue py-2 mt-auto">
        <div class="flex justify-center items-center gap-4 text-sm">
            <!-- Nút Tra cứu tương tác -->
            <div class="menu-dropdown relative">
                <a href="#" id="searchDropdownBtn" class="hover:text-[#080052] transition-colors duration-300 border border-blue rounded-full px-3 py-1">
                    <i class="fas fa-search"></i> Tra cứu tương tác
                </a>
                <div id="searchDropdownMenu" class="menu-dropdown-content absolute bottom-full left-1/2 -translate-x-1/2 mb-2 bg-yellow-700 rounded-lg shadow-lg hidden">
                    <a href="https://go.drugbank.com/drug-interaction-checker">Tra cứu tại DrugBank</a>
                    <a href="https://tuongtacthuoc.nhic.vn/Home/CSDLTuongTacThuoc">Tra cứu tại NHIC VN</a>
                    <a href="https://www.drugs.com/drug_interactions.html">Tra cứu tại Drugs.com</a>
                </div>
            </div>
            <!-- Nút Giới thiệu -->
            <button id="aboutBtn" class="hover:text-[#080052] transition-colors duration-300 border border-blue rounded-full px-3 py-1">
                <i class="fas fa-info-circle"></i> Giới thiệu
            </button>
            <!-- Nút Liên hệ -->
            <button id="contactBtn" class="hover:text-[#080052] transition-colors duration-300 border border-blue rounded-full px-3 py-1">
                <i class="fas fa-envelope"></i> Liên hệ
            </button>
        </div>
        <p class="text-center mt-2">Copyright &copy; 2025 by nh@tqu@ng (BSTY. <a href="https://www.facebook.com/annhonpet">An Nhơn Pet</a>)</p>
    </footer>

    <!-- Modal Giới thiệu -->
    <div id="aboutModal" class="modal fixed inset-0 z-50 flex items-center justify-center bg-gray-900 bg-opacity-50 hidden opacity-0 transition-opacity duration-300">
        <div class="modal-content-scrollable modal-content bg-white rounded-lg shadow-xl p-8 max-w-lg w-full transform scale-95 transition-transform duration-300 relative">
            <button id="closeAboutModalBtn" class="absolute top-3 right-3 text-gray-400 hover:text-gray-600 transition-colors duration-200">
                <i class="fas fa-times text-xl"></i>
            </button>
            <h2 class="text-2xl font-bold text-center text-gray-800 mb-4">Phần mềm tra cứu phối hợp Kháng Sinh</h2>
            <p class="text-gray-600 mb-2">
                Đây là phần mềm tra cứu phối hợp kháng sinh thông minh, được xây dựng với mục tiêu cung cấp một công cụ tham khảo nhanh chóng về tương tác giữa các loại kháng sinh.
            </p>
            <p class="text-gray-600 mb-2">
                Phần mềm bao gồm các quy tắc phối hợp dựa trên cơ chế tác động của thuốc, giúp các bác sĩ có thể đưa ra quyết định điều trị tốt hơn. Chúng tôi luôn nỗ lực cập nhật dữ liệu để mang lại thông tin chính xác và hữu ích nhất. Tuy nhiên, các kết quả chỉ mang tính chất tham khảo. Vui lòng tham khảo ý kiến chuyên gia trước khi đưa ra quyết định điều trị.
            </p>
<h2 class="text-2xl font-bold text-center text-gray-800 mb-4">Một số định nghĩa cần hiểu thêm:</h2>
<p class="text-gray-600">
                1. Hiệp đồng (Synergistic): Hai loại kháng sinh hoạt động tốt hơn khi kết hợp so với khi dùng riêng lẻ (1+1=3)
            </p>
<p class="text-gray-600">
                2. Cộng gộp (Additive): Hai loại kháng sinh có tác dụng cộng lại khi kết hợp. Ví dụ, Beta-lactamase và Penicillins.
            </p>
<p class="text-gray-600">
                3. Đối kháng (Antagonistic): Hai loại kháng sinh làm giảm hiệu quả của nhau khi kết hợp.
            </p>

<p class="text-gray-600">
                4. Cạnh tranh (Competition): Hai loại kháng sinh có cơ chế tác dụng tương tự, thường cùng gắn vào một vị trí (ví dụ, PBP trên thành tế bào vi khuẩn), dẫn đến cạnh tranh và có thể làm giảm hiệu quả của nhau.
            </p>
<p class="text-gray-600">
                5. Thận trọng (Caution): Cần cân nhắc kỹ khi kết hợp vì có thể có tác dụng phụ nghiêm trọng hoặc tương tác không mong muốn.
            </p>
        </div>
    </div>
    
    <!-- Modal Liên hệ -->
    <div id="contactModal" class="modal fixed inset-0 z-50 flex items-center justify-center bg-gray-900 bg-opacity-50 hidden opacity-0 transition-opacity duration-300">
        <div class="modal-content bg-white rounded-lg shadow-xl p-8 max-w-lg w-full transform scale-95 transition-transform duration-300 relative">
            <button id="closeContactModalBtn" class="absolute top-3 right-3 text-gray-400 hover:text-gray-600 transition-colors duration-200">
                <i class="fas fa-times text-xl"></i>
            </button>
            <h2 class="text-2xl font-bold text-center text-gray-800 mb-4">Thông tin Nhà phát triển:</h2>
            <p class="text-gray-600">
                <strong>Đơn vị:</strong> An Nhơn Pet
            </p>
            <p class="text-gray-600 mb-2">
                <strong>Fanpage:</strong> https://www.facebook.com/annhonpet
            </p>
 <h2 class="text-2xl font-bold text-center text-gray-800 mb-4">Thông tin liên hệ:</h2>
<p class="text-gray-600">
                Đội ngũ phát triển xin nhận mọi ý kiến đóng góp hoặc phản ánh lỗi phần mềm để phần mềm ngày càng tốt hơn qua số điện thoại bên dưới:
            </p>
            <p class="text-gray-600">
                <strong>Tác giả:</strong> nh@tqu@ng
            </p>
            <p class="text-gray-600">
                <strong>Zalo:</strong> 0935.985.468
            </p>
        </div>
    </div>
    
    <script>
        // dataks.js - Mã được tích hợp trực tiếp để tránh lỗi import
        const antibioticGroups = {
            'penicillins': [
        'penicillin-g', 'propicillin', 'penicillin-v', 'penicillin-g-procaine',
        'benzathine-penicillin-g', 'benethamine-penicillin', 'penicillin-m', 'oxacillin',
        'cloxacillin', 'dicloxacillin', 'methicillin', 'nafcillin',
        'flucloxacillin', 'ampicillin', 'amoxycillin', 'pivampicillin',
        'hetacillin', 'bacampicillin', 'metampicillin', 'talampicillin',
        'epicillin', 'sulbenicillin', 'temocillin', 'carbenicilin',
        'ticarcilin', 'carindacillin', 'mecillinam', 'amdinocillin',
        'mezlocillin', 'piperacillin', 'azlocillin', 'pivmecillinam'
    ],
    'cephalosporins': [
        'cephalexin', 'cefalotin', 'cefazolin', 'cefradine', 'cefadroxil', 'cefaloglycin',
        'cefalonium', 'cephaloridin', 'cefatrizine', 'cefazaflur', 'cefacetrile',
        'cefapirin', 'cefaclor', 'cefoxitine', 'cefamandole', 'cefonicid', 'cefuroxime',
        'cefprozil', 'cefuzonam', 'ceforanide', 'cefotetan', 'cefmetazole',
        'cefbuperazone', 'cefminox', 'ceftizoxime', 'ceftiofur', 'cefotaxime',
        'ceftriaxone', 'cefoperazone', 'cefpiramide', 'cefcapene', 'cefdaloxime',
        'cefdinir', 'cefditoren', 'cefetamet', 'cefixime', 'cefmenoxime', 'cefodizime',
        'cefovecin', 'cefpimizole', 'cefpodoxime', 'cefteram', 'ceftibuten',
        'ceftiolene', 'ceftazidime', 'latamoxef', 'cefepime', 'cefclidin',
        'cefiderocol', 'cefluprenam', 'cefoselis', 'cefozopran', 'cefpirome',
        'cefquinome', 'flomoxef', 'ceftobiprole', 'ceftaroline', 'ceftolozane',
        'cefazedone', 'cefroxadine', 'ceftezol', 'cefazoline', 'loracarbef',
        'cefotiam', 'cefaparole', 'cefmatilen', 'cefsumide'
    ],
    'carbapenems': [
        'imipenem', 'meropenem', 'ertapenem', 'doripenem', 'biapenem',
        'panipenem', 'faropenem', 'ritipenem', 'sulopenem', 'thienamycin'
    ],
    'monobactams': [
        'aztreonam', 'tigemonam', 'carumonam', 'nocardicin-a'
    ],
    'beta-lactamase': [
        'clavulanic-acid', 'sulbactam', 'tazobactam', 'vaborbactam',
        'enmetazobactam', 'relebactam', 'avibactam', 'taniborbactam',
        'durlobactam', 'nacubactam', 'xeruborbactam', 'zidebactam'
    ],
    'peptides': [
        'daptomycin', 'gramicidin', 'gramicidin-s', 'teixobactin',
        'vancomycin', 'oritavancin', 'telavancin', 'teicoplanin',
        'dalbavancin', 'ramoplanin', 'bleomycin', 'polymyxin-b',
        'colistin', 'bacitracin', 'tyrothricin', 'surfactin',
        'amphomycin', 'tyrocidine'
    ],
    'aminoglycosides': [
        'netilmicin', 'gentamicin', 'streptomycin', 'kanamycin',
        'neomycin', 'tobramycin', 'amikacin', 'dibekacin', 'sisomicin',
        'plazomicin', 'dihydrostreptomycin', 'paromomycin', 'framycetin',
        'ribostamycin', 'arbekacin', 'bekanamycin', 'hygromycin-b',
        'apramycin', 'puromycin', 'nourseothricin', 'isepamicin',
        'verdamicin', 'astromicin', 'spectinomycin'
    ],
    'tetracyclines': [
        'chlortetracycline', 'tetracycline', 'oxytetracycline', 'doxycycline',
        'minocycline', 'lymecycline', 'demeclocycline', 'meclocycline',
        'metacycline', 'rolitetracycline', 'tigecycline', 'eravacycline',
        'sarecycline', 'glycylcycline', 'clomocycline', 'omadacycline',
        'pipacycline', 'penimepicycline'
    ],
    'macrolides': [
        'pikromycin', 'erythromycin', 'boromycin', 'dirithromycin',
        'flurithromycin', 'miocamycin', 'rokitamycin', 'josamycin',
        'spiramycin', 'tylosin', 'clarithromycin', 'azithromycin',
        'tulathromycin', 'tilmicosin', 'kitasamycin', 'midecamycin',
        'oleandomycin', 'troleandomycin', 'roxithromycin',
        'telithromycin', 'cethromycin', 'solithromycin',
        'streptovaricin-a-g', 'geldanamycin', 'macbecin',
        'herbimycin', 'fidaxomicin', 'rifamycin-sv', 'rifampicin',
        'rifabutin', 'rifapentine', 'rifaximin', 'rifalazil',
        'tildipirosin'
    ],
    'lincosamides': [
        'lincomycin', 'clindamycin', 'pirlimycin', 'iboxamycin'
    ],
    'phenicols': [
        'chloramphenicol', 'thiamphenicol', 'florfenicol', 'azidamfenicol'
    ],
    'quinolones': [
        'nalidixic-acid', 'pipemidic-acid', 'oxolinic-acid', 'piromidic-acid',
        'flumequine', 'rosoxacin', 'norfloxacin', 'ofloxacin',
        'ciprofloxacin', 'pefloxacin', 'fleroxacin', 'lomefloxacin',
        'nadifloxacin', 'rufloxacin', 'enoxacin', 'levofloxacin',
        'balofloxacin', 'grepafloxacin', 'pazufloxacin',
        'sparfloxacin', 'temafloxacin', 'tosufloxacin',
        'gatifloxacin', 'clinafloxacin', 'moxifloxacin',
        'sitafloxacin', 'prulifloxacin', 'besifloxacin',
        'delafloxacin', 'gemifloxacin', 'trovafloxacin',
        'ozenoxacin', 'finafloxacin', 'garenoxacin',
        'alatrofloxacin', 'valcofloxacin', 'gelmofloxacin',
        'cinoxacin', 'nemonoxacin', 'pradofloxacin',
        'enrofloxacin', 'danofloxacin', 'marbofloxacin',
        'difloxacin', 'ibafloxacin', 'orbifloxacin',
        'sarafloxacin'
    ],
    'sulfonamides': [
        'sulfamethoxazole', 'sulfaguanidine', 'sulfadimidine',
        'sulfamonomethoxine', 'sulfadimethoxine', 'sulfasalazine',
        'sulfafurazole', 'sulfamethizole', 'sulfanilamid',
        'sulfonamidochrysoidine', 'sulfacetamid', 'sulfadiazine',
        'sulfisomidine', 'sulfamoxole', 'sulfanitran',
        'sulfamethoxypyridazine', 'sulfametoxydiazine', 'sulfadoxine',
        'sulfametopyrazine', 'mafenid', 'sulfaclozine',
        'sulfachloropyridazine', 'cotrimoxazol'
    ],
    'oxazolidones': [
        'cycloserine', 'linezolid', 'posizolid', 'tedizolid',
        'torezolid', // Thêm tên thay thế cho dễ tra cứu
        'radezolid', 'eperezolid', 'ranbezolid', 'sutezolid'
    ],
    'nitroimidazoles': [
        'metronidazole', 'tinidazole', 'ornidazole', 'secnidazole',
        'nimorazole', 'carnidazole', 'misonidazole', 'dimetridazol',
        'ronidazole', 'ipronidazole', 'benznidazole', 'azomycin',
        'fexinidazole'
    ],
    'nitrofurans': [
        'difurazone', 'furazolidone', 'nifuroxazide',
        'nifurquinazol', 'nifurtoinol', 'nifurzide',
        'nitrofurazone', 'nitrofurantoin', 'furaltadone',
        'furazidine', 'furylfuramide', 'nifuratel',
        'nifurtimox'
    ],
    'phosphonics': [
        'fosfomycin', 'fosmidomycin', 'alafosfalin'
    ],
    'ionophores': [
        'salinomycin', 'monensin', 'lasalocid'
    ],
    'pleuromutilins': [
        'lefamulin', 'retapamulin', 'tiamulin', 'valnemulin',
        'azamulin'
    ],
    'streptogramins': [
        'pristinamycin', 'quinupristin', 'dalfopristin',
        'virginiamycin'
    ],
    'aminocoumarins': [
        'novobiocin', 'coumermycin-a1', 'clorobiocin'
    ],
    'lao-phong': [
        'dapsone', 'promin', 'capreomycin', 'ethambutol',
        'ethionamide', 'clofazimine', 'isoniazid'
    ],
    'minerals': [
        'calcium', 'magnesium', 'iron', 'zinc'
    ],
    'diaminopyrimidine': [
        'trimethoprim', 'pyrimethamine', 'iclaprim'
    ],
    'other/new': [
        'fusidic-acid', 'anthracimycin', 'anthramycin',
        'lugdunin', 'nitazoxanide', 'halicin',
        'mupirocin', 'platensimycin', 'malacidin',
        'lariocidin', 'zosurabalpin', 'cefepime-taniborbactam',
        'darobactin', 'orlynvah', 'cefepime-enmetazobactam',
        'cresomycin'
    ]
        };

        const antibioticToGroupMap = {};
        for (const group in antibioticGroups) {
            antibioticGroups[group].forEach(antibiotic => {
                antibioticToGroupMap[antibiotic] = group;
            });
        }

// GIẢI THÍCH MỘT SỐ TỪ CHUYÊN NGÀNH
// Hiệp đồng (Synergistic): Hai loại kháng sinh hoạt động tốt hơn khi kết hợp so với khi dùng riêng lẻ (1+1=3)
// Đối kháng (Antagonistic): Hai loại kháng sinh làm giảm hiệu quả của nhau khi kết hợp.
// Cộng gộp (Additive): Hai loại kháng sinh có tác dụng cộng lại khi kết hợp. Ví dụ, Beta-lactamase và Penicillins.
// Thận trọng (Caution): Cần cân nhắc kỹ khi kết hợp vì có thể có tác dụng phụ nghiêm trọng hoặc tương tác không mong muốn.
// Cạnh tranh (Competition): Hai loại kháng sinh có cơ chế tác dụng tương tự, thường cùng gắn vào một vị trí (ví dụ, PBP trên thành tế bào vi khuẩn), dẫn đến cạnh tranh và có thể làm giảm hiệu quả của nhau.

        const combinationRules = {
            // Các tương tác giữa các thành viên beta-lactam với nhau (ức chế quá trình tổng hợp thành tế bào vi khuẩn bằng cách liên kết với các protein gắn penicillin (PBP))
    'cephalosporins-penicillins': 'competition', // Cạnh tranh vị trí gắn lên PBP, có thể gây dị ứng chéo nhưng không hẳn là đối kháng. Cẩn trọng
    'carbapenems-penicillins': 'competition', // Cạnh tranh vị trí gắn lên PBP (Carbapenems có phổ kháng khuẩn rộng nhất trong các beta-lactam, gram dương, gram âm và vi khuẩn kỵ khí)
    'monobactams-penicillins': 'competition', // Cạnh tranh vị trí gắn lên PBP
    'cephalosporins-monobactams': 'competition', // Cạnh tranh vị trí gắn lên PBP
    'carbapenems-cephalosporins': 'competition', // Cạnh tranh vị trí gắn lên PBP
    'carbapenems-monobactams': 'caution', // Cẩn thận, có thể gây dị ứng chéo nghiêm trọng, hai loại này vẫn là competition, cạnh tranh vị trí gắn lên PBP

    // Các quy tắc của nhóm penicillins
    'aminoglycosides-penicillins': 'synergistic', // Hiệp lực hay Hiệp đồng đều ok, trong kết quả sẽ hiện ra chữ HIỆP ĐỒNG
    'penicillins-peptides': 'synergistic', // Hiệp lực
    'penicillins-quinolones': 'synergistic', // Hiệp lực
    'penicillins-tetracyclines': 'antagonistic', // Đối kháng
    'penicillins-phenicols': 'antagonistic', // Đối kháng
    'macrolides-penicillins': 'antagonistic', // Đối kháng
    'lincosamides-penicillins': 'antagonistic', // Đối kháng
    'pleuromutilins-penicillins': 'antagonistic', // Đối kháng
    'penicillins-sulfonamides': 'antagonistic', // Đối kháng
    'diaminopyrimidine-penicillins': 'antagonistic', // Đối kháng

    // Các quy tắc của nhóm cephalosporins
    'aminoglycosides-cephalosporins': 'synergistic', // Hiệp lực, có tài liệu là 'additive'
    'cephalosporins-peptides': 'synergistic', // Hiệp lực, có tài liệu là 'additive'
    'cephalosporins-quinolones': 'synergistic', // Hiệp lực
    'cephalosporins-tetracyclines': 'antagonistic', // Đối kháng
    'cephalosporins-phenicols': 'antagonistic', // Đối kháng
    'cephalosporins-macrolides': 'antagonistic', // Đối kháng
    'cephalosporins-lincosamides': 'antagonistic', // Đối kháng
    'cephalosporins-pleuromutilins': 'antagonistic', // Đối kháng
    'cephalosporins-sulfonamides': 'antagonistic', // Đối kháng
    'cephalosporins-diaminopyrimidine': 'antagonistic', // Đối kháng

    // Các quy tắc của nhóm monobactams
    'aminoglycosides-monobactams': 'synergistic', // Hiệp lực
    'monobactams-peptides': 'synergistic', // Hiệp lực
    'monobactams-quinolones': 'synergistic', // Hiệp lực
    'monobactams-tetracyclines': 'antagonistic', // Đối kháng
    'monobactams-phenicols': 'antagonistic', // Đối kháng
    'macrolides-monobactams': 'antagonistic', // Đối kháng
    'lincosamides-monobactams': 'antagonistic', // Đối kháng
    'monobactams-pleuromutilins': 'antagonistic', // Đối kháng
    'monobactams-sulfonamides': 'antagonistic', // Đối kháng
    'diaminopyrimidine-monobactams': 'antagonistic', // Đối kháng
    
    // Các quy tắc của nhóm carbapenems
    'aminoglycosides-carbapenems': 'synergistic', // Hiệp lực
    'carbapenems-peptides': 'synergistic', // Hiệp lực
    'carbapenems-quinolones': 'synergistic', // Hiệp lực
    'carbapenems-tetracyclines': 'antagonistic', // Đối kháng
    'carbapenems-phenicols': 'antagonistic', // Đối kháng
    'carbapenems-macrolides': 'antagonistic', // Đối kháng
    'carbapenems-lincosamides': 'antagonistic', // Đối kháng
    'carbapenems-pleuromutilins': 'antagonistic', // Đối kháng
    'carbapenems-sulfonamides': 'antagonistic', // Đối kháng
    'carbapenems-diaminopyrimidine': 'antagonistic', // Đối kháng

    // Các quy tắc của nhóm beta-lactamase
    'beta-lactamase-penicillins': 'additive', // Phụ gia, ý nói là 2 chất này bổ trợ cho nhau, không có beta-lactamase thì peni không phát huy tác dụng
    'beta-lactamase-cephalosporins': 'additive', // Trong kết quả hiện ra chữ HIỆP LỰC

    // Các quy tắc của nhóm aminoglycosides
    'aminoglycosides-tetracyclines': 'synergistic', // Hiệp lực. Tài liệu mới lại nói là đối kháng
    'aminoglycosides-phenicols': 'synergistic', // Hiệp lực
    'aminoglycosides-macrolides': 'synergistic', // Hiệp lực
    'aminoglycosides-lincosamides': 'synergistic', // Hiệp lực
    'aminoglycosides-pleuromutilins': 'synergistic', // Hiệp lực

    // Các quy tắc của nhóm peptid
    'peptides-tetracyclines': 'synergistic', // Hiệp lực
    'peptides-phenicols': 'synergistic', // Hiệp lực
    'macrolides-peptides': 'synergistic', // Hiệp lực
    'lincosamides-peptides': 'synergistic', // Hiệp lực
    'peptides-pleuromutilins': 'synergistic', // Hiệp lực
// Cần xem xét lại 2 trường hợp dưới (cùng là nhóm diệt khuẩn)
    'aminoglycosides-peptides': 'additive', // Hiệp đồng mạnh mẽ (Có tài liệu ghi 'caution', hết sức thận trọng)
    'peptides-quinolones': 'additive', // Hiệp đồng hoặc cộng gộp (Đôi khi là 'caution' vì độc tính)

    // Các quy tắc của nhóm quinolon
    'quinolones-tetracyclines': 'synergistic', // Hiệp lực
    'phenicols-quinolones': 'synergistic', // Hiệp lực
    'macrolides-quinolones': 'synergistic', // Hiệp lực, có lúc lại ghi 'additive'
    'lincosamides-quinolones': 'synergistic', // Hiệp lực
    'pleuromutilins-quinolones': 'synergistic', // Hiệp lực
// Cầm kiểm tra 2 trường hợp sau
    'quinolones-sulfonamides': 'additive',
    'aminoglycosides-quinolones': 'synergistic', // Cùng là diệt khuẩn, tùy vào nồng độ có khi là cộng gộp, có khi hiệp đồng (Có lúc thận trọng 'caution')

    // Các quy tắc của nhóm tetracyclines
    'sulfonamides-tetracyclines': 'synergistic', // Hiệp lực
    'diaminopyrimidine-tetracyclines': 'synergistic', // Hiệp lực
// Cần xem xét 2 trường hợp dưới
    'phenicols-tetracyclines': 'caution', // Cộng gộp vì tetra gắn 30S, pheni gắn 50S ('caution' không khuyến cáo vì tác dụng phụ nghiêm trọng)
    'macrolides-tetracyclines': 'caution', // Cộng gộp (Không khuyến cáo vì tác dụng phụ nghiêm trọng)

    // Các quy tắc của nhóm phenicols
    'phenicols-sulfonamides': 'synergistic', // Hiệp lực
    'diaminopyrimidine-phenicols': 'synergistic', // Hiệp lực 

    // Các quy tắc của nhóm macrolides
    'macrolides-sulfonamides': 'synergistic', // Hiệp lực
    'diaminopyrimidine-macrolides': 'synergistic', // Hiệp lực
// Cần kiểm tra 2 trường hợp dưới
    'lincosamides-macrolides': 'competition', // Cạnh tranh 50S
    'macrolides-phenicols': 'competition', // Cạnh tranh 50S

    // Các quy tắc của nhóm lincosamides
    'lincosamides-sulfonamides': 'synergistic', // Hiệp lực
    'diaminopyrimidine-lincosamides': 'synergistic', // Hiệp lực
// Cần xem xét 2 trường hợp dưới
    'lincosamides-tetracyclines': 'caution', // Cộng gộp (Không khuyến cáo vì tăng tác dụng phụ)
    'lincosamides-phenicols': 'competition', // Cạnh tranh 50S, không khuyến cáo, cân nhắc

    // Các quy tắc của nhóm pleuromutilins
    'pleuromutilins-sulfonamides': 'synergistic', // Hiệp lực
    'diaminopyrimidine-pleuromutilins': 'synergistic', // Hiệp lực

    // Các quy tắc của nhóm diaminopyrimidine (ức chế enzyme dihydrofolate reductase, một enzyme quan trọng trong con đường tổng hợp acid folic của vi khuẩn)
    'diaminopyrimidine-pleuromutilins': 'synergistic', // Cộng gộp
    'diaminopyrimidine-tetracyclines': 'synergistic', // Cộng gộp
    'diaminopyrimidine-phenicols': 'synergistic', // Cộng gộp
    'diaminopyrimidine-macrolides': 'synergistic', // Cộng gộp
    'diaminopyrimidine-lincosamides': 'synergistic', // Cộng gộp
    'diaminopyrimidine-penicillins': 'antagonistic', // Có tài liệu ghi là Hiệp đồng hoặc cộng gộp
    'cephalosporins-diaminopyrimidine': 'antagonistic', // Có tài liệu ghi là Hiệp đồng hoặc cộng gộp
    'carbapenems-diaminopyrimidine': 'antagonistic', // Có tài liệu ghi là Hiệp đồng hoặc cộng gộp
    'diaminopyrimidine-monobactams': 'antagonistic', // Có tài liệu ghi là Hiệp đồng hoặc cộng gộp
    'diaminopyrimidine-sulfonamides': 'synergistic', // Hiệp đồng mạnh mẽ
    'diaminopyrimidine-peptides': 'synergistic', // Cộng gộp
    'aminoglycosides-diaminopyrimidine': 'synergistic', // Cộng gộp
    'diaminopyrimidine-quinolones': 'synergistic', // Hiệp đồng

    // XV. Các quy tắc của nhóm oxazolidones
    // 15.1 Với các kháng sinh ức chế tổng hợp thành tế bào vi khuẩn
    // 15.1.1 Với thành viên của beta-lactam
    'oxazolidones-penicillins': 'synergistic', // Hiệp đồng hoặc cộng gộp
    'cephalosporins-oxazolidones': 'synergistic', // Hiệp đồng hoặc cộng gộp
    'monobactams-oxazolidones': 'synergistic', // Hiệp đồng hoặc cộng gộp
    'carbapenems-oxazolidones': 'synergistic', // Hiệp đồng hoặc cộng gộp
    // 15.1.2 Với thành viên của peptides
    'oxazolidones-peptides': 'synergistic', // Hiệp đồng hoặc cộng gộp
    // 15.1.3 Với thành viên của phosphonics
    'oxazolidones-phosphonics': 'synergistic', // Hiệp đồng
    // 15.2 Với các kháng sinh ức chế tổng hợp protein khác, lưu ý một vài trường hợp sẽ cạnh tranh vị trí tác động, dẫn đến chồng chéo, đối kháng
    'aminoglycosides-oxazolidones': 'synergistic', // Hiệp đồng hoặc cộng gộp
    'oxazolidones-tetracyclines': 'synergistic', // Hiệp đồng hoặc cộng gộp
    'macrolides-oxazolidones': 'synergistic', // Hiệp đồng hoặc cộng gộp
    'lincosamides-oxazolidones': 'synergistic', // Hiệp đồng hoặc cộng gộp
    'oxazolidones-phenicols': 'synergistic', // Hiệp đồng hoặc cộng gộp
    'oxazolidones-streptogramins': 'synergistic', // Hiệp đồng hoặc cộng gộp
    'aminocoumarins-oxazolidones': 'synergistic', // Hiệp đồng hoặc cộng gộp, do nhóm này ức chế DNA gyrase
    // 15.3 Với các kháng sinh khác
    'oxazolidones-quinolones': 'synergistic', // Hiệp đồng hoặc cộng gộp, do quino ức chế DNA
    'oxazolidones-sulfonamides': 'synergistic', // Hiệp đồng hoặc cộng gộp, do Sulfo ức chế tổng hợp acid folic
    'diaminopyrimidine-oxazolidones': 'synergistic', // Hiệp đồng hoặc cộng gộp, do diamino ức chế tổng hợp acid folic
    'nitroimidazoles-oxazolidones': 'synergistic', // Cộng gộp, do nitroimi sản sinh chất có hại cho tế bào vi khuẩn
    'nitrofurans-oxazolidones': 'synergistic', // Cộng gộp, do nitrofu sản sinh chất có hại cho tế bào vi khuẩn
    'ionophores-oxazolidones': 'synergistic', // Cộng gộp, do iono làm thay đổi gradient ion màng tế bào vi khuẩn
    'oxazolidones-pleuromutilins': 'caution', // Có thể cộng gộp, cũng có thể đối kháng, do cùng cạnh tranh gắn vào tiểu đơn vị 50S của ribosome.

    // XVI. Các quy tắc của nhóm nitroimidazoles
    // 16.1 Với các kháng sinh ức chế tổng hợp thành tế bào vi khuẩn
    // 16.1.1 Với thành viên của beta-lactam
    'nitroimidazoles-penicillins': 'synergistic', // Cộng gộp
    'cephalosporins-nitroimidazoles': 'synergistic', // Cộng gộp
    'monobactams-nitroimidazoles': 'synergistic', // Cộng gộp
    'carbapenems-nitroimidazoles': 'synergistic', // Cộng gộp
    // 16.1.2 Với thành viên của peptides
    'nitroimidazoles-peptides': 'synergistic', // Hiệp đồng hoặc cộng gộp
    // 16.1.3 Với thành viên của phosphonics
    'nitroimidazoles-phosphonics': 'synergistic', // Cộng gộp
    // 16.2 Với các kháng sinh ức chế tổng hợp protein khác
    'aminoglycosides-nitroimidazoles': 'synergistic', // Hiệp đồng hoặc cộng gộp
    'nitroimidazoles-tetracyclines': 'synergistic', // Hiệp đồng hoặc cộng gộp
    'macrolides-nitroimidazoles': 'synergistic', // Hiệp đồng hoặc cộng gộp
    'lincosamides-nitroimidazoles': 'synergistic', // Hiệp đồng hoặc cộng gộp
    'nitroimidazoles-phenicols': 'synergistic', // Hiệp đồng hoặc cộng gộp
    'nitroimidazoles-pleuromutilins': 'synergistic', // Hiệp đồng hoặc cộng gộp
    'nitroimidazoles-streptogramins': 'synergistic', // Hiệp đồng hoặc cộng gộp
    'aminocoumarins-nitroimidazoles': 'synergistic', // Cộng gộp, do nhóm này ức chế DNA gyrase
    // 16.3 Với các kháng sinh khác
    'nitroimidazoles-quinolones': 'synergistic', // Hiệp đồng, do quino ức chế DNA
    'nitroimidazoles-sulfonamides': 'synergistic', // Cộng gộp, do Sulfo ức chế tổng hợp acid folic
    'diaminopyrimidine-nitroimidazoles': 'synergistic', // Cộng gộp, do diamino ức chế tổng hợp acid folic
    'nitrofurans-nitroimidazoles': 'synergistic', // Cộng gộp, do nitrofu sản sinh chất có hại cho tế bào vi khuẩn
    'ionophores-nitroimidazoles': 'synergistic', // Cộng gộp, do iono làm thay đổi gradient ion màng tế bào vi khuẩn

    // XVII. Các quy tắc của nhóm nitrofurans (chủ yếu trị tiết niệu, ít toàn thân)
    // 17.1 Với các kháng sinh ức chế tổng hợp thành tế bào vi khuẩn
    // 17.1.1 Với thành viên của beta-lactam
    'nitrofurans-penicillins': 'synergistic', // Cộng gộp
    'cephalosporins-nitrofurans': 'synergistic', // Cộng gộp
    'monobactams-nitrofurans': 'synergistic', // Cộng gộp
    'carbapenems-nitrofurans': 'synergistic', // Cộng gộp
    // 17.1.2 Với thành viên của peptides
    'nitrofurans-peptides': 'synergistic', // Cộng gộp
    // 17.1.3 Với thành viên của phosphonics
    'nitrofurans-phosphonics': 'synergistic', // Cộng gộp
    // 17.2 Với các kháng sinh ức chế tổng hợp protein khác
    'aminoglycosides-nitrofurans': 'synergistic', // Hiệp đồng hoặc cộng gộp
    'nitrofurans-tetracyclines': 'synergistic', // Hiệp đồng hoặc cộng gộp
    'macrolides-nitrofurans': 'synergistic', // Hiệp đồng hoặc cộng gộp
    'lincosamides-nitrofurans': 'synergistic', // Hiệp đồng hoặc cộng gộp
    'nitrofurans-phenicols': 'synergistic', // Hiệp đồng hoặc cộng gộp
    'nitrofurans-pleuromutilins': 'synergistic', // Hiệp đồng hoặc cộng gộp
    'nitrofurans-streptogramins': 'synergistic', // Hiệp đồng hoặc cộng gộp
    'aminocoumarins-nitrofurans': 'synergistic', // Cộng gộp, do nhóm này ức chế DNA gyrase
    // 17.3 Với các kháng sinh khác
    'nitrofurans-quinolones': 'synergistic', // Hiệp đồng, do quinolones ức chế enzyme DNA gyrase, có tài liệu ghi 'additive'
    'nitrofurans-sulfonamides': 'synergistic', // Cộng gộp, do Sulfo ức chế tổng hợp acid folic
    'diaminopyrimidine-nitrofurans': 'synergistic', // Cộng gộp, do diamino ức chế tổng hợp acid folic
    'ionophores-nitrofurans': 'synergistic', // Cộng gộp, do iono làm thay đổi gradient ion màng tế bào vi khuẩn

    // XVIII. Các quy tắc của nhóm phosphonics
    // 18.1 Với các kháng sinh ức chế tổng hợp thành tế bào vi khuẩn
    // 18.1.1 Với thành viên của beta-lactam (để trị các nhiễm trùng đa kháng MRSA, VRE)
    'penicillins-phosphonics': 'synergistic', // Hiệp đồng
    'cephalosporins-phosphonics': 'synergistic', // Hiệp đồng
    'monobactams-phosphonics': 'synergistic', // Hiệp đồng
    'carbapenems-phosphonics': 'synergistic', // Hiệp đồng
    // 18.1.2 Với thành viên của peptides
    'peptides-phosphonics': 'synergistic', // Hiệp đồng mạnh mẽ
    // 18.2 Với các kháng sinh ức chế tổng hợp protein khác
    'aminoglycosides-phosphonics': 'synergistic', // Hiệp đồng, tạo điều kiện cho aminoglycosides xâm nhập vào tế bào vi khuẩn dễ dàng hơn bằng cách làm suy yếu thành tế bào
    'phosphonics-tetracyclines': 'synergistic', // Cộng gộp-Additive
    'macrolides-phosphonics': 'synergistic', // Cộng gộp
    'lincosamides-phosphonics': 'synergistic', // Cộng gộp
    'phenicols-phosphonics': 'synergistic', // Cộng gộp
    'phosphonics-pleuromutilins': 'synergistic', // Cộng gộp
    'phosphonics-streptogramins': 'synergistic', // Cộng gộp
    'aminocoumarins-phosphonics': 'synergistic', // Cộng gộp, do nhóm này ức chế DNA gyrase
    // 18.3 Với các kháng sinh khác
    'phosphonics-quinolones': 'synergistic', // Hiệp đồng, do quinolones ức chế enzyme DNA gyrase, mở rộng phổ
    'phosphonics-sulfonamides': 'synergistic', // Cộng gộp, do Sulfo ức chế tổng hợp acid folic
    'diaminopyrimidine-phosphonics': 'synergistic', // Cộng gộp, do diamino ức chế tổng hợp acid folic
    'ionophores-phosphonics': 'synergistic', // Cộng gộp, do iono làm thay đổi gradient ion màng tế bào vi khuẩn

    // XIX. Các quy tắc của nhóm ionophores
    // 19.1 Với các kháng sinh ức chế tổng hợp thành tế bào vi khuẩn
    // 19.1.1 Với thành viên của beta-lactam (hoạt động độc lập, kết hợp có thể tăng hiệu quả)
    'ionophores-penicillins': 'synergistic', // Cộng gộp
    'cephalosporins-ionophores': 'synergistic', // Cộng gộp
    'ionophores-monobactams': 'synergistic', // Cộng gộp
    'carbapenems-ionophores': 'synergistic', // Cộng gộp
    // 19.1.2 Với thành viên của peptides
    'ionophores-peptides': 'synergistic', // Cộng gộp
    // 19.2 Với các kháng sinh ức chế tổng hợp protein khác
    'aminoglycosides-ionophores': 'synergistic', // Hiệp đồng, tạo điều kiện cho aminoglycosides xâm nhập vào tế bào vi khuẩn dễ dàng hơn bằng cách làm suy yếu thành tế bào
    'ionophores-tetracyclines': 'synergistic', // Cộng gộp-Additive
    'ionophores-macrolides': 'synergistic', // Cộng gộp
    'ionophores-lincosamides': 'synergistic', // Cộng gộp
    'ionophores-phenicols': 'synergistic', // Cộng gộp
    'ionophores-pleuromutilins': 'synergistic', // Cộng gộp
    'ionophores-streptogramins': 'synergistic', // Cộng gộp
    'aminocoumarins-ionophores': 'synergistic', // Cộng gộp, do nhóm này ức chế DNA gyrase
    // 19.3 Với các kháng sinh khác
    'ionophores-quinolones': 'synergistic', // Cộng gộp hoặc Hiệp đồng, do quinolones ức chế enzyme DNA gyrase, mở rộng phổ
    'ionophores-sulfonamides': 'synergistic', // Cộng gộp, do Sulfo ức chế tổng hợp acid folic
    'diaminopyrimidine-ionophores': 'synergistic', // Cộng gộp, do diamino ức chế tổng hợp acid folic

    // XX. Các quy tắc của nhóm pleuromutilins (ức chế tổng hợp protein bằng cách gắn vào tiểu đơn vị 50S của ribosome vi khuẩn, tại vị trí peptidyl transferase)
    // 20.1 Với các kháng sinh ức chế tổng hợp thành tế bào vi khuẩn
    // 20.1.1 Với thành viên của beta-lactam (hoạt động độc lập, kết hợp có thể tăng hiệu quả)
    'penicillins-pleuromutilins': 'synergistic', // Cộng gộp hoặc Hiệp đồng
    'cephalosporins-pleuromutilins': 'synergistic', // Cộng gộp hoặc Hiệp đồng
    'monobactams-pleuromutilins': 'synergistic', // Cộng gộp hoặc Hiệp đồng
    'carbapenems-pleuromutilins': 'synergistic', // Cộng gộp hoặc Hiệp đồng
    // 20.1.2 Với thành viên của peptides
    'peptides-pleuromutilins': 'synergistic', // Cộng gộp
    // 20.2 Với các kháng sinh ức chế tổng hợp protein khác
    'aminoglycosides-pleuromutilins': 'synergistic', // Cộng gộp hoặc Hiệp đồng
    'pleuromutilins-tetracyclines': 'caution', // Cộng gộp-Additive, vì tetracyclines gắn vào tiểu đơn vị 30S, cũng có trường hợp gây tác dụng phụ
    'macrolides-pleuromutilins': 'competition', // Cạnh tranh vị trí gắn vào tiểu đơn vị 50S của ribosome
    'lincosamides-pleuromutilins': 'competition', // Cạnh tranh, không khuyến cáo, cùng gắn vào 50S
    'phenicols-pleuromutilins': 'competition', // Cạnh tranh 50S (Có trường hợp Cộng gộp hoặc Hiệp đồng, nhưng có trường hợp giảm hiệu quả của nhau. Cần cân nhắc)
    'pleuromutilins-streptogramins': 'competition', // Cạnh tranh 50S
    'aminocoumarins-pleuromutilins': 'synergistic', // Cộng gộp, do nhóm này ức chế DNA gyrase
    // 20.3 Với các kháng sinh khác
    'pleuromutilins-quinolones': 'synergistic', // Hiệp đồng, do quinolones ức chế enzyme DNA gyrase, mở rộng phổ
    'pleuromutilins-sulfonamides': 'synergistic', // Cộng gộp, do Sulfo ức chế tổng hợp acid folic
    'diaminopyrimidine-pleuromutilins': 'synergistic', // Cộng gộp, do diamino ức chế tổng hợp acid folic

    // XXI. Các quy tắc của nhóm streptogramins (Phức hợp 2 thành phần (Streptogramin A và Streptogramin B) hiệp đồng trên tiểu đơn vị 50S của ribosome, ức chế tổng hợp protein của vi khuẩn)
    // 21.1 Với các kháng sinh ức chế tổng hợp thành tế bào vi khuẩn
    // 21.1.1 Với thành viên của beta-lactam (hoạt động độc lập, kết hợp có thể tăng hiệu quả)
    'penicillins-streptogramins': 'synergistic', // Cộng gộp hoặc Hiệp đồng
    'cephalosporins-streptogramins': 'synergistic', // Cộng gộp hoặc Hiệp đồng
    'monobactams-streptogramins': 'synergistic', // Cộng gộp hoặc Hiệp đồng
    'carbapenems-streptogramins': 'synergistic', // Cộng gộp hoặc Hiệp đồng
    // 21.1.2 Với thành viên của peptides
    'peptides-streptogramins': 'synergistic', // Cộng gộp
    // 21.2 Với các kháng sinh ức chế tổng hợp protein khác
    'aminoglycosides-streptogramins': 'synergistic', // Cộng gộp hoặc Hiệp đồng
    'streptogramins-tetracyclines': 'synergistic', // Cộng gộp-Additive hoặc Hiệp đồng, vì tetracyclines gắn vào tiểu đơn vị 30S
    'macrolides-streptogramins': 'competition', // Cạnh tranh vị trí gắn 50S
    'lincosamides-streptogramins': 'competition', // Cạnh tranh vị trí gắn
    'phenicols-streptogramins': 'synergistic', // Cộng gộp hoặc Hiệp đồng
    'aminocoumarins-streptogramins': 'synergistic', // Cộng gộp, do nhóm này ức chế DNA gyrase
    // 21.3 Với các kháng sinh khác
    'quinolones-streptogramins': 'synergistic', // Hiệp đồng, do quinolones ức chế enzyme DNA gyrase, mở rộng phổ
    'streptogramins-sulfonamides': 'synergistic', // Cộng gộp, do Sulfo ức chế tổng hợp acid folic
    'diaminopyrimidine-streptogramins': 'synergistic', // Cộng gộp, do diamino ức chế tổng hợp acid folic

    // XXII. Các quy tắc của nhóm aminocoumarins (ức chế enzyme DNA gyrase và DNA topoisomerase IV, tuy nhiên chú ý độc tính trên gan, thận, nên dùng cho thú y)
    // 22.1 Với các kháng sinh ức chế tổng hợp thành tế bào vi khuẩn
    // 22.1.1 Với thành viên của beta-lactam (hoạt động độc lập, kết hợp có thể tăng hiệu quả)
    'aminocoumarins-penicillins': 'synergistic', // Cộng gộp hoặc Hiệp đồng
    'aminocoumarins-cephalosporins': 'synergistic', // Cộng gộp hoặc Hiệp đồng
    'aminocoumarins-monobactams': 'synergistic', // Cộng gộp hoặc Hiệp đồng
    'aminocoumarins-carbapenems': 'synergistic', // Cộng gộp hoặc Hiệp đồng
    // 22.1.2 Với thành viên của peptides
    'aminocoumarins-peptides': 'synergistic', // Cộng gộp
    // 22.2 Với các kháng sinh ức chế tổng hợp protein khác
    'aminocoumarins-aminoglycosides': 'synergistic', // Cộng gộp hoặc Hiệp đồng
    'aminocoumarins-tetracyclines': 'synergistic', // Cộng gộp-Additive hoặc Hiệp đồng, vì tetracyclines gắn vào tiểu đơn vị 30S
    'aminocoumarins-macrolides': 'competition', // Cạnh tranh vị trí gắn 50S
    'aminocoumarins-lincosamides': 'competition', // Cạnh tranh vị trí gắn 50S
    'aminocoumarins-phenicols': 'synergistic', // Cộng gộp hoặc Hiệp đồng
    // 22.3 Với các kháng sinh khác
    'aminocoumarins-quinolones': 'synergistic', // Hiệp đồng mạnh mẽ, do quinolones ức chế enzyme DNA gyrase, nhưng ở 2 vị trí khác nhau
    'aminocoumarins-sulfonamides': 'synergistic', // Cộng gộp, do Sulfo ức chế tổng hợp acid folic
    'aminocoumarins-diaminopyrimidine': 'synergistic', // Cộng gộp, do diamino ức chế tổng hợp acid folic

    // Các quy tắc của các nhóm chưa mà chưa có tài liệu nói rõ là có hay không
    'aminoglycosides-phosphonics': 'synergistic',
    'ionophores-other/new': 'neutral',
    'macrolides-pleuromutilins': 'caution',
    'macrolides-streptogramins': 'caution',
    'aminocoumarins-rifamycins': 'synergistic', // Cộng gộp hoặc hiệp đồng, hiện tại không có nhóm rifamycins ở đầu vào
    'lao-phong-quinolones': 'additive',
    'other/new-other/new': 'neutral'
        };

        function getAntibioticGroup(antibiotic) {
            return antibioticToGroupMap[antibiotic] || null;
        }

        function getCombinationRule(groupA, groupB) {
            if (groupA === groupB) {
                if (groupA === 'penicillins' || groupA === 'cephalosporins' || groupA === 'carbapenems') {
                    return 'competition';
                }
            }
            const key = [groupA, groupB].sort().join('-');
            return combinationRules[key] || null;
        }

        // kiemtraks.js - Mã được tích hợp trực tiếp để tránh lỗi import
        const allAntibiotics = Array.from(Object.keys(antibioticToGroupMap)).sort();

        const specificRules = {
            'calcium-ceftriaxone': {
                result: 'ĐỐI KHÁNG NGHIÊM TRỌNG (Calcium và Ceftriaxone không được trộn lẫn trong cùng dịch truyền. Có thể gây kết tủa nguy hiểm tính mạng, đặc biệt ở trẻ sơ sinh.)',
                class: 'antagonistic'
            },
            'clindamycin-erythromycin': {
                result: 'ĐỐI KHÁNG (Clindamycin và Erythromycin có thể đối kháng do cùng vị trí tác động trên ribosome. KHÔNG NÊN PHỐI HỢP.)',
                class: 'antagonistic'
            },
            'doxycycline-tylosin': {
                result: 'HIỆP ĐỒNG (Có thể phối hợp, nhất là trong Thú-Y, việc này sẽ mở rộng phổ kháng khuẩn, tăng hiệu quả điều trị các bệnh hô hấp, tiêu hóa.)',
                class: 'synergistic-positive'
            },
            'chloramphenicol-penicillins': {
                result: 'ĐỐI KHÁNG (Chloramphenicol có thể cản trở tác dụng diệt khuẩn của penicillin do ngăn cản tổng hợp peptidoglycan, khiến vi khuẩn vẫn ở trạng thái tĩnh. KHÔNG NÊN PHỐI HỢP.)',
                class: 'antagonistic'
            },
            'chloramphenicol-cephalosporins': {
                result: 'ĐỐI KHÁNG (Chloramphenicol có thể cản trở tác dụng diệt khuẩn của cephalosporin do ngăn cản tổng hợp peptidoglycan, khiến vi khuẩn vẫn ở trạng thái tĩnh. KHÔNG NÊN PHỐI HỢP.)',
                class: 'antagonistic'
            },
            'macrolides-chloramphenicol': {
                result: 'ĐỐI KHÁNG (Cả hai đều tác động lên tiểu đơn vị 50S của ribosome, cạnh tranh nhau và làm giảm hiệu quả. KHÔNG NÊN PHỐI HỢP.)',
                class: 'antagonistic'
            },
            'fluoroquinolones-macrolides': {
                result: 'CỘNG GỘP (Nhóm Fluoroquinolones và Macrolides có thể kết hợp với nhau do có cơ chế tác động khác nhau, nhưng đều nhắm vào nhân của tế bào vi khuẩn)',
                class: 'additive'
            },
            'fluoroquinolones-tetracyclines': {
                result: 'CỘNG GỘP (Nhóm Fluoroquinolones và Tetracyclines có thể kết hợp với nhau do có cơ chế tác động khác nhau, nhưng đều nhắm vào nhân của tế bào vi khuẩn)',
                class: 'additive'
            }
        };

        document.addEventListener('DOMContentLoaded', () => {
            const antibioticAInput = document.getElementById('antibioticA');
            const antibioticBInput = document.getElementById('antibioticB');
            const suggestionsA = document.getElementById('suggestionsA');
            const suggestionsB = document.getElementById('suggestionsB');
            const checkBtn = document.getElementById('checkCombinationBtn');
            const resultBox = document.getElementById('result');
            const errorMessage = document.getElementById('errorMessage');

            const showSuggestions = (input, suggestionsBox) => {
                const value = input.value.toLowerCase();
                suggestionsBox.innerHTML = '';
                if (value.length === 0) {
                    suggestionsBox.classList.add('hidden');
                    return;
                }

                const filtered = allAntibiotics.filter(antibiotic =>
                    antibiotic.toLowerCase().includes(value)
                );

                if (filtered.length > 0) {
                    filtered.forEach(antibiotic => {
                        const suggestionItem = document.createElement('div');
                        suggestionItem.textContent = antibiotic;
                        suggestionItem.addEventListener('click', () => {
                            input.value = antibiotic;
                            suggestionsBox.classList.add('hidden');
                        });
                        suggestionsBox.appendChild(suggestionItem);
                    });
                    suggestionsBox.classList.remove('hidden');
                } else {
                    suggestionsBox.classList.add('hidden');
                }
            };

            antibioticAInput.addEventListener('input', () => {
                showSuggestions(antibioticAInput, suggestionsA);
            });

            antibioticBInput.addEventListener('input', () => {
                showSuggestions(antibioticBInput, suggestionsB);
            });
            
            checkBtn.addEventListener('click', () => {
                const antibioticA = antibioticAInput.value.toLowerCase();
                const antibioticB = antibioticBInput.value.toLowerCase();
                
                errorMessage.textContent = '';
                resultBox.textContent = 'Kết quả sẽ hiển thị ở đây';
                resultBox.className = 'result-box';

                if (!antibioticA || !antibioticB) {
                    errorMessage.textContent = 'Vui lòng nhập tên của cả hai loại kháng sinh.';
                    return;
                }

                const ruleKey = [antibioticA, antibioticB].sort().join('-');
                
                if (specificRules[ruleKey]) {
                    resultBox.textContent = specificRules[ruleKey].result;
                    resultBox.className = `result-box ${specificRules[ruleKey].class}`;
                    return;
                }

                const groupA = getAntibioticGroup(antibioticA);
                const groupB = getAntibioticGroup(antibioticB);

                if (!groupA || !groupB) {
                    errorMessage.textContent = 'Một trong hai loại kháng sinh hoặc cả hai không được tìm thấy trong cơ sở dữ liệu.';
                    resultBox.textContent = 'KHÔNG XÁC ĐỊNH';
                    resultBox.className = 'result-box unknown';
                    return;
                }

                const interactionRule = getCombinationRule(groupA, groupB);

                let resultText, resultClass;
                switch (interactionRule) {
                    case 'synergistic':
                        resultText = `HIỆP ĐỒNG (Nhóm ${groupA} và nhóm ${groupB} tác dụng hiệp đồng)`;
                        resultClass = 'synergistic';
                        break;
                    case 'additive':
                        resultText = `CỘNG GỘP (Nhóm ${groupA} và nhóm ${groupB} có thể bổ trợ để phát huy tác dụng tối đa)`;
                        resultClass = 'additive';
                        break;
                    case 'antagonistic':
                        resultText = `ĐỐI KHÁNG (Không nên kết hợp nhóm ${groupA} và nhóm ${groupB})`;
                        resultClass = 'antagonistic';
                        break;
                    case 'competition':
                        resultText = `CẠNH TRANH (Nhóm ${groupA} và nhóm ${groupB} có cùng cơ chế tác dụng, dẫn đến cạnh tranh, có thể làm giảm hiệu quả)`;
                        resultClass = 'competition';
                        break;
                    case 'caution':
                        resultText = `THẬN TRỌNG (Cần cân nhắc khi kết hợp nhóm ${groupA} và nhóm ${groupB})`;
                        resultClass = 'caution';
                        break;
                    case 'neutral':
                        errorMessage.textContent = `Việc phối hợp giữa nhóm kháng sinh ${groupA} và nhóm ${groupB} đôi khi không theo quy tắc chung, nhưng có tài liệu nói là được phép cho một số trường hợp điều trị đặc biệt.`;
                        resultText = 'TRUNG TÍNH (Có thể được hoặc có thể không, phụ thuộc từng cặp kháng sinh cụ thể)';
                        resultClass = 'neutral';
                        break;
                    default:
                        errorMessage.textContent = 'Quy tắc chưa được định nghĩa trong cơ sở dữ liệu';
                        resultText = 'KHÔNG XÁC ĐỊNH';
                        resultClass = 'unknown';
                }
                resultBox.textContent = resultText;
                resultBox.className = `result-box ${resultClass}`;
            });

            document.addEventListener('click', (event) => {
                if (!event.target.closest('.autocomplete-container')) {
                    suggestionsA.classList.add('hidden');
                    suggestionsB.classList.add('hidden');
                }
            });
        });

        // CODE ĐIỀU KHIỂN NÚT READ MORE
document.addEventListener('DOMContentLoaded', () => {
    const readMoreBtn = document.getElementById('readMoreBtn');
    const guidanceText = document.getElementById('guidanceText');
    const fadeOverlay = guidanceText.querySelector('.fade-overlay');

    readMoreBtn.addEventListener('click', () => {
        guidanceText.classList.toggle('expanded');
        
        if (guidanceText.classList.contains('expanded')) {
            readMoreBtn.textContent = 'Thu gọn';
            fadeOverlay.style.display = 'none'; // Ẩn lớp phủ khi mở rộng
        } else {
            readMoreBtn.textContent = 'Đọc thêm';
            fadeOverlay.style.display = 'block'; // Hiện lớp phủ khi thu gọn
        }
    });
});

        // CODE ĐIỀU KHIỂN MENU FOOTER
        document.addEventListener('DOMContentLoaded', () => {
            const aboutBtn = document.getElementById('aboutBtn');
            const contactBtn = document.getElementById('contactBtn');
            const aboutModal = document.getElementById('aboutModal');
            const contactModal = document.getElementById('contactModal');
            const closeAboutModalBtn = document.getElementById('closeAboutModalBtn');
            const closeContactModalBtn = document.getElementById('closeContactModalBtn');
            const searchDropdownBtn = document.getElementById('searchDropdownBtn');
            const searchDropdownMenu = document.getElementById('searchDropdownMenu');

            // Hàm để mở modal
            const openModal = (modalElement) => {
                modalElement.classList.remove('hidden');
                setTimeout(() => {
                    modalElement.classList.add('active');
                    modalElement.classList.remove('opacity-0');
                    modalElement.querySelector('.modal-content').classList.remove('scale-95');
                }, 10);
            };

            // Hàm để đóng modal
            const closeModal = (modalElement) => {
                modalElement.classList.remove('active');
                modalElement.classList.add('opacity-0');
                modalElement.querySelector('.modal-content').classList.add('scale-95');
                setTimeout(() => {
                    modalElement.classList.add('hidden');
                }, 300);
            };

            // Xử lý nút "Giới thiệu"
            aboutBtn.addEventListener('click', () => openModal(aboutModal));
            closeAboutModalBtn.addEventListener('click', () => closeModal(aboutModal));
            aboutModal.addEventListener('click', (event) => {
                if (event.target === aboutModal) {
                    closeModal(aboutModal);
                }
            });

            // Xử lý nút "Liên hệ"
            contactBtn.addEventListener('click', () => openModal(contactModal));
            closeContactModalBtn.addEventListener('click', () => closeModal(contactModal));
            contactModal.addEventListener('click', (event) => {
                if (event.target === contactModal) {
                    closeModal(contactModal);
                }
            });

            // Xử lý dropdown menu cho "Tra cứu tương tác"
            searchDropdownBtn.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                const isHidden = searchDropdownMenu.classList.toggle('hidden');
                searchDropdownMenu.classList.toggle('opacity-0', isHidden);
                searchDropdownMenu.classList.toggle('scale-95', isHidden);
                searchDropdownMenu.classList.toggle('visible', !isHidden);
            });

            // Đóng dropdown khi click ra ngoài
            document.addEventListener('click', (event) => {
                if (!searchDropdownBtn.contains(event.target) && !searchDropdownMenu.contains(event.target)) {
                    searchDropdownMenu.classList.add('hidden');
                    searchDropdownMenu.classList.add('opacity-0');
                    searchDropdownMenu.classList.add('scale-95');
                    searchDropdownMenu.classList.remove('visible');
                }
            });

            // HÀM ĐẾM SỐ LƯỢNG KHÁNG SINH TRONG DATA
            const countElement = document.getElementById('antibioticCount');
            const targetCount = allAntibiotics.length;
            let currentCount = 0;
            const duration = 2000;
            const increment = targetCount / (duration / 16);

            const updateCount = () => {
                if (currentCount < targetCount) {
                    currentCount += increment;
                    if (currentCount > targetCount) {
                        currentCount = targetCount;
                    }
                    countElement.textContent = Math.floor(currentCount);
                    requestAnimationFrame(updateCount);
                } else {
                    countElement.textContent = targetCount;
                }
            };
            updateCount();
        });
    </script>
</body>
</html>
